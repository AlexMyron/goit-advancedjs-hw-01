{"version":3,"file":"commonHelpers4.js","sources":["../src/js/02-video.js"],"sourcesContent":["import Player from '@vimeo/player';\nimport throttle from 'lodash.throttle';\n\nconst iframe = document.getElementById('vimeo-player');\nconst player = new Player(iframe);\nconst STORAGE_KEY = 'videoplayer-current-time';\n\nfunction savePlaybackState() {\n  player\n    .getCurrentTime()\n    .then(time => {\n      localStorage.setItem(STORAGE_KEY, time);\n    })\n    .catch(e => {\n      console.error(e);\n    });\n}\n\nfunction resumePlayback() {\n  const savedTime = localStorage.getItem(STORAGE_KEY);\n  if (savedTime !== null) {\n    player\n      .setCurrentTime(savedTime)\n      .then(() => {\n        player.play();\n      })\n      .catch(e => {\n        console.error('Error setting playback time:', e);\n      });\n  }\n}\n\nconst throttlePlaybackState = throttle(savePlaybackState, 1000);\nplayer.on('timeupdate', () => {\n  throttlePlaybackState();\n});\n\nresumePlayback();\n"],"names":["iframe","player","Player","STORAGE_KEY","savePlaybackState","time","resumePlayback","savedTime","e","throttlePlaybackState","throttle"],"mappings":"sGAGA,MAAMA,EAAS,SAAS,eAAe,cAAc,EAC/CC,EAAS,IAAIC,EAAOF,CAAM,EAC1BG,EAAc,2BAEpB,SAASC,GAAoB,CAC3BH,EACG,eAAgB,EAChB,KAAKI,GAAQ,CACZ,aAAa,QAAQF,EAAaE,CAAI,CAC5C,CAAK,EACA,MAAM,GAAK,CACV,QAAQ,MAAM,CAAC,CACrB,CAAK,CACL,CAEA,SAASC,GAAiB,CACxB,MAAMC,EAAY,aAAa,QAAQJ,CAAW,EAC9CI,IAAc,MAChBN,EACG,eAAeM,CAAS,EACxB,KAAK,IAAM,CACVN,EAAO,KAAI,CACnB,CAAO,EACA,MAAMO,GAAK,CACV,QAAQ,MAAM,+BAAgCA,CAAC,CACvD,CAAO,CAEP,CAEA,MAAMC,EAAwBC,EAASN,EAAmB,GAAI,EAC9DH,EAAO,GAAG,aAAc,IAAM,CAC5BQ,GACF,CAAC,EAEDH,EAAgB"}